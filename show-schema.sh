#!/bin/bash

echo "ğŸ“Š Hydro Time API - Database Schema"
echo "===================================="
echo ""
echo "Arquivo de Migration:"
echo "  prisma/migrations/init/migration.sql"
echo ""
echo "Server de Banco de Dados:"
echo "  PostgreSQL 16"
echo ""
echo "Provider:"
echo "  prisma/migrations/migration_lock.toml"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ğŸ“Œ TABELAS CRIADAS:"
echo ""
echo "1ï¸âƒ£  User"
echo "   â”œâ”€ id (TEXT, PRIMARY KEY)"
echo "   â”œâ”€ email (TEXT, UNIQUE)"
echo "   â”œâ”€ name (TEXT)"
echo "   â”œâ”€ password (TEXT)"
echo "   â”œâ”€ createdAt (TIMESTAMP)"
echo "   â””â”€ updatedAt (TIMESTAMP)"
echo ""
echo "2ï¸âƒ£  UserSettings"
echo "   â”œâ”€ id (TEXT, PRIMARY KEY)"
echo "   â”œâ”€ userId (TEXT, FK â†’ User)"
echo "   â”œâ”€ dailyGoalMl (INTEGER, default: 2500)"
echo "   â”œâ”€ reminderIntervalMinutes (INTEGER, default: 60)"
echo "   â”œâ”€ notificationsEnabled (BOOLEAN, default: true)"
echo "   â”œâ”€ language (TEXT, default: 'pt-BR')"
echo "   â”œâ”€ theme (TEXT, default: 'light')"
echo "   â”œâ”€ createdAt (TIMESTAMP)"
echo "   â””â”€ updatedAt (TIMESTAMP)"
echo ""
echo "3ï¸âƒ£  IntakeLog"
echo "   â”œâ”€ id (TEXT, PRIMARY KEY)"
echo "   â”œâ”€ userId (TEXT, FK â†’ User)"
echo "   â”œâ”€ amountMl (INTEGER)"
echo "   â”œâ”€ timestamp (BIGINT)"
echo "   â”œâ”€ durationSeconds (INTEGER, default: 0)"
echo "   â”œâ”€ createdAt (TIMESTAMP)"
echo "   â””â”€ updatedAt (TIMESTAMP)"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "ğŸ”‘ ÃNDICES CRIADOS:"
echo "   â€¢ User.email (UNIQUE)"
echo "   â€¢ UserSettings.userId (UNIQUE)"
echo "   â€¢ IntakeLog.userId"
echo "   â€¢ IntakeLog.timestamp"
echo ""
echo "ğŸ”— RELACIONAMENTOS:"
echo "   â€¢ UserSettings â†’ User (CASCADE DELETE)"
echo "   â€¢ IntakeLog â†’ User (CASCADE DELETE)"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "âœ… Tudo pronto para usar com docker-compose!"
echo ""
echo "Para aplicar migrations ao banco:"
echo "  docker-compose up --build"
echo ""
echo "Para ver dados no Prisma Studio:"
echo "  docker-compose exec api npx prisma studio"
echo ""
